(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-486e7f3c"],{"4f33":function(t,e,o){"use strict";var s=o("f21c"),a=o.n(s);a.a},"50ec":function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login-warp-antd"},[o("a-form",{staticClass:"login-form",attrs:{id:"components-form-demo-normal-login"}},[o("a-form-item",[o("a-input",{attrs:{placeholder:"手机号"},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}},[o("a-icon",{staticStyle:{color:"#dd0101"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),o("a-form-item",[o("a-input",{attrs:{type:"password",placeholder:"密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}},[o("a-icon",{staticStyle:{color:"#dd0101"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),o("div",{staticClass:"login-code"},[o("a-form-item",[o("a-input",{attrs:{placeholder:"验证码"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}},[o("a-icon",{staticStyle:{color:"#dd0101"},attrs:{slot:"prefix",type:"picture"},slot:"prefix"})],1)],1),o("div",{staticClass:"code-img"},[o("img",{attrs:{src:t.codeUrl,alt:"点击获取验证码"},on:{click:t.onCode}})])],1),o("a-form-item",[o("a",{staticClass:"login-form-forgot",attrs:{href:"#/reset"}},[t._v("忘记密码")]),o("a-button",{staticClass:"login-form-button",attrs:{type:"primary"},on:{click:t.onLogin}},[t._v("登录")]),o("a",{attrs:{href:"#/register"}},[t._v("去注册")])],1)],1)],1)},a=[],r=o("365c"),i={data:function(){return{userName:"",password:"",accountType:2,platform:2,code:"",codeUrl:"",PictrueId:"",loginFlag:!0}},beforeCreate:function(){this.form=this.$form.createForm(this,{name:"normal_login"})},created:function(){},mounted:function(){this.onCode()},methods:{onCode:function(){var t=this;r["a"].getCode().then((function(e){1==e.code?(t.codeUrl=e.data.base64String,t.PictrueId=e.data.id):t.$message.error("获取图形验证失败")}))},onLogin:function(){var t=this,e=this.userName,o=this.password,s=this.accountType,a=this.platform,i=this.PictrueId,c=this.loginFlag;return""==e?(this.$message.error("请输入手机号"),!1):this.checkPhone(e)?(this.$message.error("手机号格式不正确"),!1):""==o?(this.$message.error("请输入密码"),!1):!!c&&(this.loginFlag=!1,void r["a"].loginReuest({userName:e,password:o,accountType:s,PictrueId:i,platform:a}).then((function(e){t.loginFlag=!0,1==e.code?(localStorage.setItem("accessToken",e.data.accessToken),t.$message.success("登录成功！"),setTimeout((function(t){location.href="home.html"}),1e3)):t.$message.error(e.msg)})))},checkPhone:function(t){return!/^1(3|4|5|6|7|8|9)\d{9}$/.test(t)}}},c=i,n=(o("4f33"),o("2877")),l=Object(n["a"])(c,s,a,!1,null,"3f20052a",null);e["default"]=l.exports},f21c:function(t,e,o){}}]);
//# sourceMappingURL=chunk-486e7f3c.5953a03a.js.map